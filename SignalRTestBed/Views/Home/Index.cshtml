
@{
    ViewBag.Title = "Index";
}


<h2>Index</h2>
@Html.BeginForm()

<div class="container">
    <input type="text" id="message" />
    <input type="button" id="sendmessage" value="Send" />
    <input type="hidden" id="displayname" />
    <ul id="discussion">
    </ul>
</div>

<!--Reference the jQuery library. -->
<script src="~/Scripts/jquery-3.3.1.min.js" ></script>
<!--Reference the SignalR library. -->
<script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<script type="text/javascript">
    $(function() {
        var ticker = $.connection.tickerHub;
        ticker.client.hello = function() {
            $('#discussion')
                .append('<li><strong>Server says hi!</strong></li>');
        };
        $.connection.hub.start().done(function() {
            $('#sendmessage').click(function() {
                ticker.server.hello();
            });
        });
    });
</script>